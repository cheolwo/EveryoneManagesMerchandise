@using BusinessData.ofOrder.ofModel
@using BusinessLogic.ofManager.ofOrder
@using PlatformManager.ofComponent.ofBusinessUser
@inject SOCommodityManager SOCommodityManager
@inject OCommodityManager OCommodityManager
@*<MudTable Items="@OCommodities" MultiSelection="true" @bind-SelectedItems="selectedItems1" Hover="@hover">
    <HeaderContent>
        <MudTh>거래일자</MudTh>
        <MudTh>주문명</MudTh>
        <MudTh>거래조건</MudTh>
        <MudTh>품질조건</MudTh>
        <MudTh>수량</MudTh>
        <MudTh>개당가격</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Nr">@context.CreateTime</MudTd>
        <MudTd DataLabel="Sign">@context.Name</MudTd>
        <MudTd DataLabel="Name">@context.</MudTd>
        <MudTd DataLabel="Position">@context.Position</MudTd>
        <MudTd DataLabel="Molar mass">@context.Molar</MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager PageSizeOptions="new int[]{50, 100}" />
    </PagerContent>
    <FooterContent>
        <MudTd colspan="5">Select All</MudTd>
    </FooterContent>
</MudTable>*@

@code {
	[CascadingParameter] public UserComponent? UserComponent { get; set; }
	[Parameter]public string ?BusinessUserName { get; set; }
	public List<OCommodity> ?OCommodities { get; set; }
	public IdentityUser IdentityUser { get; set; }

    private bool hover = true;
    private HashSet<OCommodity> selectedItems1 = new HashSet<OCommodity>();
    private IEnumerable<OCommodity> Elements = new List<OCommodity>();
	protected override void OnParametersSet()
	{
		OCommodities = new();
		if(UserComponent != null)
		{
			IdentityUser = UserComponent.IdentityUser;
		}
	}
	protected override async Task OnInitializedAsync()
	{
		if(IdentityUser != null  && BusinessUserName != null)
		{
			OCommodities = await OCommodityManager._OCommodityRepository.GetToListByUserIdWithSStatus(IdentityUser.Id);		
		}
	}
}
